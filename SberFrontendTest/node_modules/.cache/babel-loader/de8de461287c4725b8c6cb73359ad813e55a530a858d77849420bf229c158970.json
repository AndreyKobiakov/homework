{"ast":null,"code":"import _slicedToArray from \"/home/andrey/job/Sber/SberFrontendTest/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/home/andrey/job/Sber/SberFrontendTest/src/ErrorWithDelay.js\",\n  _s = $RefreshSig$(),\n  _this = this;\nimport React from 'react';\nimport { Field } from 'react-final-form';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar DisplayError = function DisplayError(_ref) {\n  _s();\n  var delay = _ref.delay,\n    active = _ref.active,\n    dirty = _ref.dirty,\n    error = _ref.error,\n    touched = _ref.touched,\n    children = _ref.children;\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    show = _React$useState2[0],\n    setShow = _React$useState2[1];\n  React.useEffect(function () {\n    var timeout;\n    if (active && error && dirty) {\n      console.info('setting timeout');\n      timeout = setTimeout(function () {\n        return setShow(true);\n      }, delay);\n    }\n    return function () {\n      console.info('clearing timeout');\n      clearTimeout(timeout);\n    };\n  }, [delay, error, active, dirty]);\n  return error && (touched && !active || touched && !show && active || show) ? children(error) : null;\n};\n_s(DisplayError, \"bXBd/WbmO9A8Q7bxaOKZvuJyGc0=\");\n_c = DisplayError;\nvar ErrorWithDelay = function ErrorWithDelay(_ref2) {\n  var name = _ref2.name,\n    _children = _ref2.children,\n    delay = _ref2.delay;\n  return /*#__PURE__*/_jsxDEV(Field, {\n    name: name,\n    subscription: {\n      active: true,\n      error: true,\n      dirty: true,\n      touched: true\n    },\n    children: function children(_ref3) {\n      var _ref3$meta = _ref3.meta,\n        active = _ref3$meta.active,\n        dirty = _ref3$meta.dirty,\n        error = _ref3$meta.error,\n        touched = _ref3$meta.touched;\n      return /*#__PURE__*/_jsxDEV(DisplayError, {\n        delay: delay,\n        active: active,\n        dirty: dirty,\n        error: error,\n        touched: touched,\n        children: _children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 7\n      }, _this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 3\n  }, _this);\n};\n_c2 = ErrorWithDelay;\nexport default ErrorWithDelay;\nvar _c, _c2;\n$RefreshReg$(_c, \"DisplayError\");\n$RefreshReg$(_c2, \"ErrorWithDelay\");","map":{"version":3,"names":["React","Field","DisplayError","delay","active","dirty","error","touched","children","useState","show","setShow","useEffect","timeout","console","info","setTimeout","clearTimeout","ErrorWithDelay","name","meta"],"sources":["/home/andrey/job/Sber/SberFrontendTest/src/ErrorWithDelay.js"],"sourcesContent":["import React from 'react'\nimport { Field } from 'react-final-form'\n\nconst DisplayError = ({ delay, active, dirty, error, touched, children }) => {\n  const [show, setShow] = React.useState(false)\n  React.useEffect(\n    () => {\n      let timeout\n      if (active && error && dirty) {\n        console.info('setting timeout')\n        timeout = setTimeout(() => setShow(true), delay)\n      }\n      return () => {\n        console.info('clearing timeout')\n        clearTimeout(timeout)\n      }\n    },\n    [delay, error, active, dirty]\n  )\n\n  return error && ((touched && !active) || (touched && !show && active) || show)\n    ? children(error)\n    : null\n}\n\nconst ErrorWithDelay = ({ name, children, delay }) => (\n  <Field\n    name={name}\n    subscription={{ active: true, error: true, dirty: true, touched: true }}\n  >\n    {({ meta: { active, dirty, error, touched } }) => (\n      <DisplayError\n        delay={delay}\n        active={active}\n        dirty={dirty}\n        error={error}\n        touched={touched}\n        children={children}\n      />\n    )}\n  </Field>\n)\n\nexport default ErrorWithDelay\n"],"mappings":";;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,QAAQ,kBAAkB;AAAA;AAExC,IAAMC,YAAY,GAAG,SAAfA,YAAY,OAA2D;EAAA;EAAA,IAArDC,KAAK,QAALA,KAAK;IAAEC,MAAM,QAANA,MAAM;IAAEC,KAAK,QAALA,KAAK;IAAEC,KAAK,QAALA,KAAK;IAAEC,OAAO,QAAPA,OAAO;IAAEC,QAAQ,QAARA,QAAQ;EACpE,sBAAwBR,KAAK,CAACS,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAtCC,IAAI;IAAEC,OAAO;EACpBX,KAAK,CAACY,SAAS,CACb,YAAM;IACJ,IAAIC,OAAO;IACX,IAAIT,MAAM,IAAIE,KAAK,IAAID,KAAK,EAAE;MAC5BS,OAAO,CAACC,IAAI,CAAC,iBAAiB,CAAC;MAC/BF,OAAO,GAAGG,UAAU,CAAC;QAAA,OAAML,OAAO,CAAC,IAAI,CAAC;MAAA,GAAER,KAAK,CAAC;IAClD;IACA,OAAO,YAAM;MACXW,OAAO,CAACC,IAAI,CAAC,kBAAkB,CAAC;MAChCE,YAAY,CAACJ,OAAO,CAAC;IACvB,CAAC;EACH,CAAC,EACD,CAACV,KAAK,EAAEG,KAAK,EAAEF,MAAM,EAAEC,KAAK,CAAC,CAC9B;EAED,OAAOC,KAAK,KAAMC,OAAO,IAAI,CAACH,MAAM,IAAMG,OAAO,IAAI,CAACG,IAAI,IAAIN,MAAO,IAAIM,IAAI,CAAC,GAC1EF,QAAQ,CAACF,KAAK,CAAC,GACf,IAAI;AACV,CAAC;AAAA,GApBKJ,YAAY;AAAA,KAAZA,YAAY;AAsBlB,IAAMgB,cAAc,GAAG,SAAjBA,cAAc;EAAA,IAAMC,IAAI,SAAJA,IAAI;IAAEX,SAAQ,SAARA,QAAQ;IAAEL,KAAK,SAALA,KAAK;EAAA,oBAC7C,QAAC,KAAK;IACJ,IAAI,EAAEgB,IAAK;IACX,YAAY,EAAE;MAAEf,MAAM,EAAE,IAAI;MAAEE,KAAK,EAAE,IAAI;MAAED,KAAK,EAAE,IAAI;MAAEE,OAAO,EAAE;IAAK,CAAE;IAAA,UAEvE;MAAA,uBAAGa,IAAI;QAAIhB,MAAM,cAANA,MAAM;QAAEC,KAAK,cAALA,KAAK;QAAEC,KAAK,cAALA,KAAK;QAAEC,OAAO,cAAPA,OAAO;MAAA,oBACvC,QAAC,YAAY;QACX,KAAK,EAAEJ,KAAM;QACb,MAAM,EAAEC,MAAO;QACf,KAAK,EAAEC,KAAM;QACb,KAAK,EAAEC,KAAM;QACb,OAAO,EAAEC,OAAQ;QACjB,QAAQ,EAAEC;MAAS;QAAA;QAAA;QAAA;MAAA,SACnB;IAAA;EACH;IAAA;IAAA;IAAA;EAAA,SACK;AAAA,CACT;AAAA,MAhBKU,cAAc;AAkBpB,eAAeA,cAAc;AAAA;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}